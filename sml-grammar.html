<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <title>SML Grammar</title>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
  <meta name="author" http-equiv="reply-to" content="Andreas Rossberg, rossberg@mpi-sws.org">
  <meta name="description" content="SML grammar">
  <meta name="keywords" content="Standard ML, SML, syntax, grammar, BNF">
</head>

<body _texified="true">


<h1>Standard ML Grammar</h1>

<p>This page describes a subset of the full grammar of the core language of <a href="http://mitpress.mit.edu/book-home.tcl?isbn=0262631814">Standard ML ('97 revision)</a>.
 
<p>See <a href="#notation">below</a> for explanation of the notation.</p>


<h2><a name="core">Core Language</a></h2>

<h3><a name="con">Constants</a></h3>

<table>
  <tbody><tr>
    <td> <i>con</i> </td>
    <td>::=&nbsp;&nbsp;</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> <i>int</i> </td>
    <td> integer </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <i>float</i> </td>
    <td> floating point </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <i>char</i> </td>
    <td> character </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <i>string</i> </td>
    <td> string </td>
  </tr>

  <tr>
    <td> <i>int</i> </td>
    <td>::=</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> &#10216;<tt>~</tt>&#10217;<i>num</i> </td>
    <td> decimal </td>
  </tr>

  <tr>
    <td> <i>float</i> </td>
    <td>::=</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> &#10216;<tt>~</tt>&#10217;<i>num</i><tt>.</tt><i>num</i> </td>
    <td> floating point </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> &#10216;<tt>~</tt>&#10217;<i>num</i>&#10216;<tt>.</tt><i>num</i>&#10217;<tt>e</tt>&#10216;<tt>~</tt>&#10217;<i>num</i> &nbsp;&nbsp; </td>
    <td> scientific </td>
  </tr>

  <tr>
    <td> <i>char</i> </td>
    <td>::=</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> <tt>#"</tt><i>ascii</i><tt>"</tt> </td>
    <td> character </td>
  </tr>

  <tr>
    <td> <i>string</i>&nbsp;&nbsp; </td>
    <td>::=</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> <tt>"</tt>&#10216;<i>ascii</i>&#10217;*<tt>"</tt> </td>
    <td> string </td>
  </tr>

  <tr>
    <td> <i>num</i> </td>
    <td>::=</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> &#10216;<i>digit</i>&#10217;<sup>+</sup> </td>
    <td> number </td>
  </tr>


  <tr>
    <td> <i>ascii</i> </td>
    <td>::=</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> ... </td>
    <td> single non-<tt>"</tt> ASCII character or <tt>\</tt>-headed escape sequence </td>
  </tr>
</tbody></table>



<h3><a name="id">Identifiers</a></h3>

<table>
  <tbody><tr>
    <td> <i>id</i> </td>
    <td>::=&nbsp;&nbsp;</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> <i>letter</i>&#10216;<i>letter</i> | <i>digit</i> | <tt>'</tt> | <tt>_</tt>&#10217;* </td>
    <td> alphanumeric </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> &#10216;<tt>!</tt> | <tt>%</tt> | <tt>&amp;</tt> | <tt>$</tt> | <tt>#</tt> | <tt>+</tt> | <tt>-</tt> | <tt>/</tt> | <tt>:</tt> | <tt>&lt;</tt> | <tt>=</tt> | <tt>&gt;</tt> | <tt>?</tt> | <tt>@</tt> | <tt>\</tt> | <tt>~</tt> | <tt>`</tt> | <tt>^</tt> | <tt>|</tt> | <tt>*</tt>&#10217;<sup>+</sup> &nbsp;&nbsp;</td>
    <td> symbolic (not allowed for type variables or module language identifiers) </td>
  </tr>
  <tr>
    <td> <i>longid</i> &nbsp;&nbsp; </td>
    <td>::=</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> <i>id</i><sub>1</sub><tt>.</tt>&middot;&middot;&middot;<tt>.</tt><i>id</i><sub><i>n</i></sub> </td>
    <td> qualified (<i>n</i> &ge; 1) </td>
  </tr>
 <tr>
    <td> <i>lab</i> </td>
    <td>::=</td>

    <td> <i>num</i> </td>
    <td> number (may not start with <tt>0</tt>) </td>
  </tr>
</tbody></table>


<h3><a name="exp">Expressions</a></h3>

<table>
  <tbody><tr>
    <td> <i>exp</i> </td>
    <td>::=&nbsp;&nbsp;</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> <i>con</i> </td>
    <td> constant </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <i>id</i> </td>
    <td> value identifier </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <i>exp</i><sub>1</sub> <i>exp</i><sub>2</sub> </td>
    <td> application </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <i>exp</i><sub>1</sub> <i>id</i> <i>exp</i><sub>2</sub> </td>
    <td> infix application </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <tt>(</tt> <i>exp</i> <tt>)</tt> </td>
    <td> parentheses </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <tt>(</tt> <i>exp</i><sub>1</sub> <tt>,</tt> ... <tt>,</tt>
                    <i>exp</i><sub><i>n</i></sub> <tt>)</tt> </td>
    <td> tuple (<i>n</i> &ne; 1) </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <tt>#</tt> <i>lab</i> </td>
    <td> record selector </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <tt>[</tt> <i>exp</i><sub>1</sub> <tt>,</tt> ... <tt>,</tt>
                    <i>exp</i><sub><i>n</i></sub> <tt>]</tt> </td>
    <td> list (<i>n</i> &#8805; 0) </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <tt>(</tt> <i>exp</i><sub>1</sub> <tt>;</tt> ... <tt>;</tt>
                    <i>exp</i><sub><i>n</i></sub> <tt>)</tt> </td>
    <td> sequence (<i>n</i> &#8805; 2) </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <tt>let</tt> <i>dec</i>
         <tt>in</tt> <i>exp</i><sub>1</sub> <tt>;</tt> ... <tt>;</tt>
                     <i>exp</i><sub><i>n</i></sub> <tt>end</tt> &nbsp;&nbsp; </td>
    <td> local declaration (<i>n</i> &#8805; 1) </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <i>exp</i><sub>1</sub> <tt>andalso</tt> <i>exp</i><sub>2</sub> </td>
    <td> conjunction </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <i>exp</i><sub>1</sub> <tt>orelse</tt> <i>exp</i><sub>2</sub> </td>
    <td> disjunction </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <tt>if</tt> <i>exp</i><sub>1</sub>
         <tt>then</tt> <i>exp</i><sub>2</sub>
         <tt>else</tt> <i>exp</i><sub>3</sub> </td>
    <td> conditional </td>
  </tr>
</tbody></table>


<h3><a name="pat">Patterns</a></h3>

<table>
  <tbody><tr>
    <td> <i>pat</i> &nbsp;&nbsp; </td>
    <td>::=&nbsp;&nbsp;</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> <i>con</i> </td>
    <td> constant </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <i>id</i> </td>
    <td> variable </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <tt>(</tt> <i>pat</i> <tt>)</tt> </td>
    <td> parentheses </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <tt>(</tt> <i>pat</i><sub>1</sub> <tt>,</tt> ... <tt>,</tt>
                    <i>pat</i><sub><i>n</i></sub> <tt>)</tt> </td>
    <td> tuple (<i>n</i> &#8800; 1) </td>
  </tr>

</tbody></table>

<!--
<p><sub>Note: Omitted layered patterns on record labels.</sub></p>
-->


<h3><a name="dec">Declarations</a></h3>

<table>
  <tbody><tr>
    <td> <i>dec</i> </td>
    <td>::=&nbsp;&nbsp;</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> <tt>val</tt> <i>valbind</i> </td>
    <td> value </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <tt>fun</tt> <i>funbind</i> </td>
    <td> function </td>
  </tr>
 
  <tr>
    <td></td> <td></td>
    <td> </td>
    <td> empty </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <i>dec</i><sub>1</sub> &#10216;<tt>;</tt>&#10217; <i>dec</i><sub>2</sub> </td>
    <td> sequence </td>
  </tr>
  <tr><td></td></tr>
  <tr>
    <td> <i>valbind</i> </td>
    <td>::=</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> <i>pat</i> <tt>=</tt> <i>exp</i>
    <td> destructuring </td>
  </tr>

  <tr><td></td></tr>
  <tr>
    <td> <i>funbind</i> </td>
    <td>::=</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> <i>funmatch</i>
    <td> clausal function </td>
  </tr>

  <tr><td></td></tr>
  <tr>
    <td> <i>funmatch</i> </td>
    <td>::=</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> <i>id</i> <i>pat</i> <tt>=</tt> <i>exp</i> </td>
    <td> nonfix </td>
  </tr>

</tbody></table>

<p><sub>Note: Omitted <tt>op</tt> on constructors.</sub></p>



<h3><a name="prog">Programs</a></h3>

<table>
  <tbody><tr>
    <td> <i>prog</i> </td>
    <td>::=&nbsp;&nbsp;</td>
<!--
  </tr>
  <tr>
    <td></td> <td></td>
-->
    <td> <i>dec</i> </td>
    <td> core declaration </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> </td>
    <td> empty </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <i>prog</i><sub>1</sub> &#10216;<tt>;</tt>&#10217; <i>prog</i><sub>2</sub> </td>
    <td> sequence </td>
  </tr>
  <tr>
    <td></td> <td></td>
    <td> <i>exp</i></td>
    <td> expression </td>
  </tr>

</tbody></table>


<h2><a name="notation">Notation</a></h2>

<p>We liberally use the following notation in the grammar:</p>
<ul>
<!--
<li> <tt>typewriter</tt> font for terminal symbols</li>
-->
<li> &#10216;<i>foo</i>&#10217; for 0 or 1 occurrences of <i>foo</i></li>
<li> &#10216;<i>foo</i>&#10217;* for 0 to many occurrences of <i>foo</i></li>
<li> &#10216;<i>foo</i>&#10217;<sup>+</sup> for 1 to many occurrences of <i>foo</i></li>
<li> &#10216;<i>foo</i> | <i>bar</i>&#10217; for one of <i>foo</i> or <i>bar</i> (also with more alternatives<!--, or iterated with * or <sup>+</sup>-->)</li>
<!--
<li> <i>foo</i><sub>1</sub> <tt>@</tt> ... <tt>@</tt> <i>foo</i><sub><i>n</i></sub> for <i>n</i> occurrences of <i>foo</i>, separated by <tt>@</tt></li>
-->
<li> &#10216;<i>foo</i>&#10217;<sup>(,)</sup> for 0 or 1 occurrences of <i>foo</i>, or 1 to many comma-separated occurrences enclosed in parentheses (i.e., either empty, <i>foo</i>, or <tt>(</tt><i>foo</i><sub>1</sub><tt>,</tt>...<tt>,</tt><i>foo</i><sub><i>n</i></sub><tt>)</tt> for <i>n</i> &#8805; 1)</li>
</ul>


<hr>

<table cellpadding="0" width="100%">
  <tbody><tr>
    <td>
      <a href="http://www.mpi-sws.org/%7Erossberg/">Andreas Rossberg</a>,
      <a href="mailto:rossberg@mpi-sws.org">rossberg@mpi-sws.org</a>. <br>
      Last modified: 2013/04/22
    </td>
    <td>
      Modified by Xuangui Huang,
      <a href="mailto:stslxg@gmail.com">stslxg@gmail.com</a>. <br>
      Last modified: 2013/05/28
    </td>

    <td align="right">
      <a href="http://validator.w3.org/check?uri=referer">
        <img src="sml-grammar_files/valid-xhtml10-blue.png" alt="Valid XHTML 1.0 Transitional" border="0" height="31" width="88">
      </a>
    </td>
  </tr>
</tbody></table>



</body></html>
